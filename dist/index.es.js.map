{"version":3,"file":"index.es.js","sources":["../src/utils/event.js","../src/utils/common.js","../src/hooks/useUnmount.js","../src/config/FormElement.js","../src/config/AtInput.js","../src/hooks/useForm.js"],"sourcesContent":["class EventEmitter {\n  data = {};\n\n  on(key, page, callback) {\n    if (!this.data[key]) {\n      this.data[key] = [];\n    }\n    this.data[key].push({\n      page,\n      callback,\n    });\n  }\n\n  emit(key, ...args) {\n    if (!this.data[key]) {\n      console.error(`this ${key} event is not have`);\n      return;\n    }\n    const array = this.data[key];\n    array.forEach((item) => {\n      item.callback.apply(this, args);\n    });\n  }\n\n  off(key, page) {\n    if (!this.data[key]) {\n      console.error(`this ${key} event is not have`);\n      return;\n    }\n    const array = this.data[key];\n    const index = array.findIndex((item) => item.page === page);\n    array.splice(index, 1);\n    this.data[key] = array;\n\n    if (this.data[key].length === 0) {\n      delete this.data[key];\n    }\n  }\n}\n\nexport default new EventEmitter();\n","export const isType = type => {\n  return obj => {\n    return Object.prototype.toString.call(obj) === `[object ${type}]`;\n  };\n};\n\nexport const isNullOrUndefined = value => {\n  return value === null || value === undefined;\n};\n\nexport const isArray = isType(\"Array\");\nexport const isObject = isType(\"Object\");\nexport const isString = isType(\"String\");\nexport const isRegExp = isType(\"RegExp\");\n\nexport const isNil = value => {\n  return (\n    isNullOrUndefined(value) ||\n    JSON.stringify(value) === \"[]\" ||\n    JSON.stringify(value) === \"{}\" ||\n    value === \"\"\n  );\n};\n\nexport const isEmptyArray = value => {\n  return value.length === 0;\n};\n\nexport const isElement = value => {\n  return isObject(value) && value.$componentType === \"COMPONENT\";\n};\n\nexport const getComponentType = value => {\n  return value.constructor.name;\n};\n\nexport const isFormElement = value => {\n  return getComponentType(value) === \"FormElement\";\n};\n\nexport const isAtInput = value => {\n  return getComponentType(value) === \"AtInput\";\n};\n","import { useEffect, useRef } from 'react';\n\nconst useUnmount = (fn) => {\n  const fnRef = useRef(fn);\n  fnRef.current = fn;\n\n  useEffect(() => {\n    return () => {\n      if (fnRef.current && typeof fnRef.current === 'function') {\n        fnRef.current();\n      }\n    };\n  }, []);\n};\n\nexport default useUnmount;\n","export const attachChange = (event, name, ref) => {\n  const InputEvents = ref.__handlers.input || [];\n  const hanlde = e => {\n    event.emit(name, [name, e.detail.value]);\n  };\n  ref.__handlers.input = [...InputEvents, hanlde];\n};\n","export const attachChange = (event, name, ref) => {\n  const oldFunction = ref.handleInput;\n  ref.handleInput = e => {\n    oldFunction.call(ref, e);\n    event.emit(name, [name, e.detail.value]);\n  };\n};\n","import { useState, useRef, useCallback, useEffect } from \"react\";\nimport event from \"../utils/event\";\nimport { isNil, isObject, getComponentType } from \"../utils/common\";\nimport useUnmount from \"./useUnmount\";\nimport * as Config from \"../config\";\n\nconst SUCCESS_FLAG = \"success\";\n// const ERROR_FLAG = 'error'\n\n/**\n * 校验动作处理\n * @param ruleObj object: { rule, error }\n *\n * return error: 表示校验错误， success: 表示校验成功\n */\nconst verifyDefaultActions = {\n  required: (value, ruleObj = { rule: true, error: \"\" }) => {\n    if (!ruleObj.rule) {\n      return SUCCESS_FLAG;\n    }\n\n    if (isNil(value)) {\n      return ruleObj.error;\n    }\n\n    // 针对 仅仅输入空格情况\n    if (!value.match(/[^\\s]/)) {\n      return ruleObj.error;\n    }\n\n    return SUCCESS_FLAG;\n  },\n  // maxLength: value => {},\n  pattern: (value, ruleObj = { rule: null, error: \"\" }) => {\n    if (!ruleObj.rule) {\n      return SUCCESS_FLAG;\n    }\n\n    if (!ruleObj.rule.test(value)) {\n      return ruleObj.error;\n    }\n\n    return SUCCESS_FLAG;\n  }\n  // min: value => {},\n  // max: value => {}\n};\n\n/**\n * 监听输入框改变事件\n * @param {*} ref\n * @param {*} handleChange\n */\nfunction attachListerner(ref, handleChange) {\n  const { name } = ref.props;\n  event.on(name, \"INPUT_FIELD\", handleChange);\n\n  Config[getComponentType(ref)].attachChange(event, name, ref);\n}\n\n/**\n * TODO: 可以自定义校验规则\n * @param {*} verifyLazy 是否在输入时就校验输入是否错误\n */\nfunction useForm({ verifyLazy }) {\n  const [formValues, setFormValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isCompleted, setIsCompleted] = useState(false);\n  const namesRef = useRef([]);\n  const validationMap = useRef({});\n\n  const handleChangeRef = useRef(([name, value]) => {\n    if (validationMap.current[name] && !verifyLazy) {\n      hanldeVerifyActions(name, value, validationMap.current[name]);\n    }\n    setValue({ [name]: value });\n  });\n\n  /**\n   * 注册， 通过Ref绑定相关AtInput, AtTextarea， 暂时只针对Taro-ui\n   * 因为原生小程序的Input和Textarea暂时不知道从哪获知props\n   * @param {*} ref\n   * @param {*} ValidationOptions required, maxLength, pattern, min, max\n   */\n  function register(ref, ValidationOptions) {\n    if (!ref) return;\n\n    const { name, value } = ref.props;\n\n    if (namesRef.current.includes(name)) {\n      return;\n    }\n    namesRef.current.push(name);\n\n    setValue({ [name]: value });\n    if (ValidationOptions) {\n      validationMap.current[name] = ValidationOptions;\n    }\n\n    attachListerner(ref, handleChangeRef.current);\n    return;\n  }\n\n  function setValue(nameAndValue) {\n    // TODO: 是否对无用数据(other), 进行过滤{[name]: value, other: xxx}\n    setFormValues(v => ({ ...v, ...nameAndValue }));\n  }\n\n  function getValue(name) {\n    return formValues[name];\n  }\n\n  // TODO: 格式化Value， 单独设定 或者 全局设定\n  // function formatValue() {}\n\n  function handleSubmit(func) {\n    return () => {\n      const validationMapNames = Object.keys(validationMap.current);\n\n      for (const name of validationMapNames) {\n        const result = hanldeVerifyActions(\n          name,\n          formValues[name],\n          validationMap.current[name]\n        );\n\n        if (!result) return;\n      }\n\n      // NOTE: 此处第一次拿不到errors\n      func(formValues);\n    };\n  }\n\n  function hanldeVerifyActions(name, value, validationOptions) {\n    const vOptsKeys = Object.keys(validationOptions);\n    for (const key of vOptsKeys) {\n      //TODO: 确认是否存在Key,报错\n      let vOpts = validationOptions[key];\n\n      if (!isObject(vOpts)) {\n        vOpts = {\n          rule: vOpts,\n          error: \"\"\n        };\n      }\n\n      const currentResult = verifyDefaultActions[key](value, vOpts);\n\n      if (currentResult !== SUCCESS_FLAG) {\n        // TODO: 是否需要变为多个错误提示，（当前只是显示一个error的存储）\n        setErrors({ [name]: currentResult });\n        return false;\n      }\n\n      setErrors(e => {\n        delete e[name];\n        return e;\n      });\n    }\n\n    return true;\n  }\n\n  // 校验是否完成，只是针对required进行校验是否存在必填项未填完整\n  useEffect(() => {\n    const keys = Object.keys(validationMap.current);\n    for (const key of keys) {\n      const isRequired = isObject(validationMap.current[key].required)\n        ? validationMap.current[key].required.rule\n        : validationMap.current[key].required;\n\n      if (isRequired && isNil(formValues[key])) {\n        setIsCompleted(false);\n        return;\n      }\n    }\n\n    setIsCompleted(true);\n  }, [formValues]);\n\n  useUnmount(() => {\n    namesRef.current.forEach(name => {\n      event.off(name);\n    });\n\n    namesRef.current = [];\n  });\n\n  return {\n    register: useCallback(register, [handleChangeRef.current]),\n    setValue: useCallback(setValue, []),\n    getValue: getValue,\n    handleSubmit,\n    formValues,\n    isCompleted,\n    errors\n  };\n}\n\nexport default useForm;\n"],"names":["attachChange"],"mappings":"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"}